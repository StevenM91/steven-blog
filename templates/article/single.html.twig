{% extends 'base.html.twig' %}

{% block title %}
  Article
{% endblock %}

{% block body %}
  <section>
    <h1 class="text-center">{{ singleArticle.title }}</h1>
    <div class="row">
      <div class="col-md-12 mx-auto">
        <h5 class="text-center"><img src="{{ asset('uploads/brochures/' ~ singleArticle.picture) }}" alt="" /></h5>
        <hr />
        <article class="container">
          {{ singleArticle.content }}
          <br />
          <cite>Auteur : {{ singleArticle.author.fullname }} publié le {{ singleArticle.publishedAt|date('d-m-y') }}</cite>
          {# permet de dire que même si l'utilisateur n'est pas connecter il peut quand même voir l'article et aussi que seul l'author pourra supprimer l'article #}
          {% if app.user and app.user.fullname == singleArticle.author %}
            <a href="{{ path('app_remove_article', { id: singleArticle.id }) }}" class="btn btn-danger">Supprimer</a> |
            <a href="{{ path('app_update_article', { id: singleArticle.id }) }}" class="btn btn-danger">Modifier</a>
          {% endif %}
        </article>
      </div>
    </div>
  </section>
{% endblock %}
